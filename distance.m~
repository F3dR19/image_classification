function [ classifications ] = distance( reduced_images_test, reduced_images_train, labels_train, k )
%UNTITLED7 Summary of this function goes here
%   Detailed explanation goes here

size_train = size( reduced_images_train, 2 );
size_test = size( reduced_images_test, 2 );

% size = (number of test images x number of train images )
% for each test image, contains distance to each train image
distances = zeros( size_test, size_train );

for j = 1:size_test
	% extract current test image
	test_image = reduced_images_test( :, j );
	
	distances( j, : ) = sum( ( reduced_images_train - repmat( test_image, [ 1, size_train ] ) ).^2 );
end

% extract k closest vectors 
[ ~, indices ] = sort( distances, 2, 'ascend' );

classifications = mode( labels_train( indices( :, 1:k ) ), 2 );
	

end

